{% extends "ideas/base.html" %}

{% block title %}Eureka - Ideas{% endblock %}

{% block navbar-links %}

<ul class="nav navbar-nav">
  {% if user.is_authenticated %}
  <li class="active"><a href="{% url 'ideas' %}">IDEAS</a></li>
  <li><a href="#">USERS</a></li>
  {% endif %}
</ul>

{% endblock %}

{% block content %}
{% load humanize %}


<div class="sub-navbar">
  <div class="container">
    <h4 class="pull-right">Showing {{ idea_list|length}} idea{% if idea_list|length != 1 %}s{% endif%}</h4>
    <ul class="nav nav-pills pull-left">
      <li class="{% if sort == 'latest' %}active{% endif %}"><a href="{% url 'ideas' sort='latest' %}">Latest</a></li>
      <li class="{% if sort == 'interesting' %}active{% endif %}"><a href="{% url 'ideas' sort='interesting' %}">Interesting</a></li>
      <li class="{% if sort == 'approved' %}active{% endif %}"><a href="{% url 'ideas' sort='approved' %}">Approved</a></li>
      <li class="{% if sort == 'rejected' %}active{% endif %}"><a href="{% url 'ideas' sort='rejected' %}">Rejected</a></li>
    </ul>
  </div>
</div>

<div class="darker-background">
  <div class="container">
    <div class="row">

      <div class="col-md-12">
        <div class="row ideas-list">
          <div class="col-md-12">
            {% for idea in idea_list %}
            <div class="idea">
              <span class="created">{{idea.created|naturaltime}}</span>
              <div class="media">
                <a class="pull-left" href="#">
                  <img class="media-object" src="{{gravatars.migueloliveira}}" alt="...">
                </a>
                <div class="media-body">
                  <h4 class="media-heading lead"><a href="#">{{idea.user.username}}</a> had an idea! - <a href="#">{{idea.title}}</a></h4>
                  <p>{{idea.text}}</p>
                  <div class="idea-stats pull-right">
                    {% if idea.state == "I"%}
                    <span class="label label-warning">idle</span>
                    {% elif idea.state == "A" %}
                    <span class="label label-success">accepted</span>
                    {% else %}
                    <span class="label label-danger">rejected</span>
                    {% endif %}
                    <span class="label label-default">{{idea.comment_set.count}} comments</span>
                    <!-- <span class="label label-default">28 points</span>
                    <span class="label label-default">4 users interested</span> -->
                  </div>
                </div>
              </div>

            </div>
            {% endfor %}
          </div>
        </div>
      </div>

    </div> <!-- /row -->
  </div> <!-- /container -->
</div>


{% endblock %}